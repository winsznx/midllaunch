# MidlLaunch v1.2 Extension: Regression Test Report

## Executive Summary

**Objective:** Extend MidlLaunch PRD v1.1 to support multiple execution modes (Manual, AI-Assisted, Agent-Driven) while preserving all protocol invariants.

**Result:** ‚úÖ APPROVED with mandatory constraints

**All v1.1 normative sections preserved:**
- Section 9 (Settlement Model) ‚Äî unchanged
- Section 7B (Canonical Unit Conventions) ‚Äî unchanged  
- Section 8 (Bonding Curve Design) ‚Äî unchanged
- Appendix A (Closed-Form Curve Solution) ‚Äî unchanged
- Buy-side only, no sell, no AMM ‚Äî unchanged
- Trust model (validator/TSS custody) ‚Äî unchanged

**New capabilities added:**
- 3 execution modes (Manual baseline, AI-Assisted, Agent-Driven)
- AI and Agent constraint framework
- Expanded abuse/failure analysis
- Implementation guidance

---

## Viability Regression Test Results

### Test 1: Manual Launch Mode

**Status:** ‚úÖ APPROVED (baseline reference path)

**Score Breakdown:**
- Technical Feasibility: 10/10
- Economic Attack Surface: 2/10 (low risk)
- Abuse Potential: 1/10 (minimal)
- UX Complexity: 2/10 (simple)
- Operational Dependencies: 1/10 (wallet only)

**Overall Viability: 10/10**

**Analysis:**
- Already specified in v1.1
- User inputs parameters manually
- User signs Bitcoin transaction
- Standard Section 9 settlement
- No new risks introduced

**Verdict:** This is the baseline. All other modes must match its protocol-level behavior.

---

### Test 2: AI-Assisted Launch Mode

**Status:** ‚úÖ APPROVED with mandatory constraints

**Score Breakdown:**
- Technical Feasibility: 9/10 (requires AI API integration)
- Economic Attack Surface: 5/10 (medium - AI could suggest bad params)
- Abuse Potential: 4/10 (low-medium - AI spam mitigated by fees)
- UX Complexity: 6/10 (chat/wizard interface adds complexity)
- Operational Dependencies: 6/10 (external AI API)

**Overall Viability: 7.5/10** (strong approval with constraints)

**What AI CAN Do (Advisory Only):**
- ‚úÖ Suggest parameter values (name, symbol, supply, curve params)
- ‚úÖ Generate metadata text and descriptions
- ‚úÖ Create risk disclosures and compliance templates
- ‚úÖ Validate parameters against protocol bounds
- ‚úÖ Estimate costs and expected outputs

**What AI CANNOT Do (Hard Constraints):**
- ‚ùå Sign Bitcoin transactions
- ‚ùå Bypass user review/approval
- ‚ùå Access user private keys
- ‚ùå Set parameters that violate protocol bounds
- ‚ùå Claim outputs are "audited" or "guaranteed"

**Mandatory Constraints:**
1. ‚úÖ MUST label all AI output as "AI-Suggested (Not Audited)"
2. ‚úÖ MUST require explicit user confirmation
3. ‚úÖ MUST allow editing of all AI-suggested fields
4. ‚úÖ MUST validate parameters independent of AI
5. ‚úÖ MUST provide warnings for risky parameter combinations

**Trust Classification:**
- AI service is **explicitly trusted operational** (per Section 5)
- AI failures or malicious output are USER risk, not protocol risk
- User signature = acceptance of responsibility for AI suggestions

**Attack Vectors & Mitigations:**

| Attack | Severity | Mitigation | Status |
|--------|----------|------------|--------|
| AI suggests malicious params | Critical | Frontend enforces quality minimums + warnings | ‚úÖ MITIGATED |
| AI generates fake social links | High | "Unverified" labels on all metadata | ‚úÖ MITIGATED |
| AI spam-generates launches | Low | Standard launch fees apply | ‚úÖ MITIGATED |
| AI hallucinations confuse users | Medium | Clear labeling + edit functionality | ‚úÖ MITIGATED |
| AI service downtime | Low | Graceful fallback to Manual mode | ‚úÖ MITIGATED |

**Verdict:** AI-Assisted mode is safe and viable. The key insight is that AI is **advisory only**‚Äîit cannot bypass user custody or protocol bounds. All AI suggestions are filtered through:
1. Frontend validation
2. User review and approval
3. Protocol parameter bounds (Section 8)
4. Standard settlement (Section 9)

---

### Test 3: Agent-Driven Launch Mode

**Status:** ‚úÖ APPROVED with MANDATORY constraints and staged rollout

**Score Breakdown:**
- Technical Feasibility: 8/10 (requires API infrastructure, auth, rate limiting)
- Economic Attack Surface: 8/10 (high without constraints; medium with mitigations)
- Abuse Potential: 9/10 (very high - spam attacks existential threat)
- UX Complexity: 5/10 (API integration moderate)
- Operational Dependencies: 8/10 (API infra, staking system, monitoring)

**Overall Viability: 6.5/10** (viable but HIGH RISK without constraints)

**Authorization Models:**

**Model A: Agent-Controlled Wallet**
- Agent operates with its own Bitcoin wallet
- Agent signs transactions directly
- Agent bears BTC cost
- Use case: Autonomous agent economies

**Model B: User Delegation**
- User pre-authorizes agent via delegation message
- Agent proves delegation; user's wallet signs final tx
- User bears BTC cost
- Use case: User's "launch assistant" agent

**Both models satisfy Section 9 settlement requirements** (valid Bitcoin signatures)

**What Agents CAN Do:**
- ‚úÖ Initiate launches via authenticated API
- ‚úÖ Operate with agent-controlled wallets (Model A)
- ‚úÖ Act under user delegation (Model B)
- ‚úÖ Set parameters within protocol bounds
- ‚úÖ Interact with launched tokens post-creation

**What Agents CANNOT Do:**
- ‚ùå Bypass parameter validation
- ‚ùå Claim implicit authority from protocol
- ‚ùå Exceed rate limits
- ‚ùå Impersonate other agents or users
- ‚ùå Execute without valid signatures

**MANDATORY Constraints (Non-Negotiable for Production):**

1. **Agent Registration & Staking:**
   - ‚úÖ MUST require agent registration
   - ‚úÖ MUST require 0.01 BTC stake per agent
   - ‚úÖ Stake slashed for rate limit violations

2. **Rate Limits:**
   - ‚úÖ Per-agent: 10 launches / 24 hours
   - ‚úÖ Global agents: 1000 launches / day
   - ‚úÖ Environment-configurable
   - ‚úÖ Enforced at API layer + monitored

3. **Double Validation:**
   - ‚úÖ API validates parameters
   - ‚úÖ On-chain LaunchFactory re-validates
   - ‚úÖ NO trust in API correctness

4. **Explicit Labeling:**
   - ‚úÖ Frontend shows "ü§ñ Agent-Launched by [agentId]"
   - ‚úÖ No "verified" status without manual review
   - ‚úÖ Clear custody warnings

5. **Suspension Mechanism:**
   - ‚úÖ Admin can revoke agent API keys (Section 14 powers)
   - ‚úÖ Agent violation = suspension + stake slash

**Attack Vectors & Mitigations:**

| Attack | Severity | Mitigation | Status |
|--------|----------|------------|--------|
| Agent spam (10k launches) | EXISTENTIAL | Rate limits + staking + fee escalation | ‚úÖ MANDATORY |
| Sybil attack (100 agent IDs) | CRITICAL | PoW registration + staking cost | ‚úÖ MANDATORY |
| Agent wallet compromise | HIGH | Agent operational risk (not protocol) | ‚úÖ ACCEPTED |
| API parameter bypass | EXISTENTIAL | Double validation (API + on-chain) | ‚úÖ MANDATORY |
| Malicious metadata | CRITICAL | Agent badges + community flagging | ‚úÖ MITIGATED |
| API DoS | MEDIUM | Standard rate limiting + DDoS protection | ‚úÖ MITIGATED |

**Staged Rollout Plan (Recommended):**

**Phase 1: Closed Beta (Allowlist)**
- 10-20 known agents only
- Monitor spam patterns
- Validate rate limits effectiveness
- Gather empirical data

**Phase 2: Open Beta (Staking Required)**
- Public agent registration
- 0.01 BTC stake enforced
- PoW challenge for registration
- Rate limits active

**Phase 3: Full Production**
- Open registration (post-mainnet stability)
- Adjust rate limits based on empirical data
- Reputation system (off-chain)

**Verdict:** Agent mode is viable BUT carries existential spam risk. The mandatory constraints transform it from **unacceptable (2/10)** to **acceptable with caution (6.5/10)**. 

**Critical success factors:**
1. MUST implement all mandatory constraints before ANY agent access
2. MUST start with allowlist beta
3. MUST monitor abuse patterns continuously
4. MUST be willing to suspend agents or reduce rate limits if spam emerges

---

## Cross-Mode Compliance Analysis

### Settlement Model (Section 9) ‚Äî ‚úÖ PASS

**Test:** Do all modes produce identical on-chain settlement?

- Manual: FBT ‚Üí Intent ‚Üí Execution ‚Üí RBT ‚úÖ
- AI-Assisted: FBT ‚Üí Intent ‚Üí Execution ‚Üí RBT ‚úÖ
- Agent-Driven: FBT ‚Üí Intent ‚Üí Execution ‚Üí RBT ‚úÖ

**Verdict:** All modes converge to identical Section 9 flows. ‚úÖ COMPLIANT

---

### Unit Conventions (Section 7B) ‚Äî ‚úÖ PASS

**Test:** Do all modes use identical pricing and accounting?

- All modes: Pricing in sats per whole token ‚úÖ
- All modes: totalBTCDepositedSats accounting ‚úÖ
- All modes: slippage in base units (minTokensOut) ‚úÖ

**Verdict:** Unit conventions uniform across modes. ‚úÖ COMPLIANT

---

### Trust Boundaries (Section 5) ‚Äî ‚úÖ PASS

**Test:** Does any mode weaken trust disclosures?

- Manual: User trusts frontend + validators (same as v1.1) ‚úÖ
- AI-Assisted: User trusts frontend + validators + AI service (EXPLICITLY DISCLOSED) ‚úÖ
- Agent-Driven: Agent/user trusts validators (EXPLICITLY UNTRUSTED ACTOR) ‚úÖ

**Verdict:** Trust boundaries explicit and NOT weakened. ‚úÖ COMPLIANT

**Key insight:** AI and agents are classified OUTSIDE protocol trust model:
- AI = trusted operational dependency (like frontend)
- Agents = explicitly untrusted actors (like users)

---

### Protocol Scope (Section 3) ‚Äî ‚úÖ PASS

**Test:** Does any mode introduce rejected features?

- Sell logic: ‚ùå NO (all modes buy-only)
- AMM migration: ‚ùå NO (no mode includes this)
- Fairness guarantees: ‚ùå NO (no anti-bot claims)
- Governance affecting execution: ‚ùå NO (admin only affects factory)

**Verdict:** Scope discipline maintained. ‚úÖ COMPLIANT

---

### Curve Math (Section 8, Appendix A) ‚Äî ‚úÖ PASS

**Test:** Can any mode alter curve logic?

- Manual: Uses closed-form formula ‚úÖ
- AI-Assisted: AI suggests params; formula unchanged ‚úÖ
- Agent-Driven: Agent sets params; formula unchanged ‚úÖ

**Verdict:** Bonding curve math identical across modes. ‚úÖ COMPLIANT

---

### Event Schemas (Section 13) ‚Äî ‚úÖ PASS (with extension)

**Test:** Do modes require breaking event changes?

**Extension (non-breaking):**
```solidity
enum ExecutionMode { MANUAL, AI_ASSISTED, AGENT_DRIVEN }

event LaunchCreated(
    // ... existing fields unchanged ...
    ExecutionMode mode,  // NEW
    bytes32 modeMetadata // NEW: hash of AI model or agent ID
);
```

**Verdict:** Event schema extended (non-breaking). ‚úÖ COMPLIANT

**Rationale:** Adding fields to events is non-breaking. Existing indexers ignore new fields. New indexers can track execution mode for analytics.

---

## What Was REJECTED

The following were considered and explicitly REJECTED:

### ‚ùå REJECTED: AI-Signed Transactions

**Proposal:** Allow AI to sign Bitcoin transactions on user's behalf for "seamless UX"

**Rejection Reason:** 
- Violates Section 9 (user must sign FBT)
- Introduces implicit custody (AI holds keys)
- Weakens trust model
- Enables catastrophic key compromise

**Verdict:** NEVER ALLOWED. User custody is non-negotiable.

---

### ‚ùå REJECTED: Agent-Bypassed Parameter Validation

**Proposal:** Trusted agents could bypass protocol bounds for "institutional use cases"

**Rejection Reason:**
- Breaks protocol invariants (Section 8 bounds are absolute)
- Creates two-tier system (privileged agents)
- Introduces hidden AMM-like logic via custom curves
- Violates scope discipline

**Verdict:** NEVER ALLOWED. All agents face identical bounds.

---

### ‚ùå REJECTED: AI "Audited" or "Guaranteed Safe" Claims

**Proposal:** Label AI-assisted launches as "AI-Audited" to build trust

**Rejection Reason:**
- AI output is advisory, not authoritative
- Creates false security expectations
- Introduces liability for AI failures
- Misrepresents trust model

**Verdict:** NEVER ALLOWED. AI labels must say "SUGGESTED" not "AUDITED."

---

### ‚ùå REJECTED: Unlimited Agent Rate Limits

**Proposal:** No rate limits for agents; rely on launch fees alone

**Rejection Reason:**
- Launch fees insufficient to prevent spam (agents can cheaply deploy 10k tokens)
- Existential ecosystem damage from registry pollution
- Lack of Sybil resistance

**Verdict:** NEVER ALLOWED. Rate limits are mandatory.

---

### ‚ùå REJECTED: Agent Custody of Protocol Vaults

**Proposal:** Agents manage TSS vaults or hold pooled user funds

**Rejection Reason:**
- Introduces new custody model beyond Section 9
- Requires trust in agent beyond validator trust
- Enables exit scams
- Out of scope for issuance protocol

**Verdict:** NEVER ALLOWED. Validators control TSS; agents cannot.

---

### ‚ùå REJECTED: AI-Generated "Fair Launch" Guarantees

**Proposal:** AI ensures launches are "fair" via automated anti-bot logic

**Rejection Reason:**
- Fairness guarantees explicitly rejected in Section 3
- AI cannot enforce on-chain fairness (sybil vulnerable)
- Creates false expectations
- Weakens permissionless positioning

**Verdict:** NEVER ALLOWED. No fairness guarantees in any mode.

---

## Ideas That Were APPROVED (But Deferred to Roadmap)

The following are viable but non-binding future extensions:

### ‚úÖ APPROVED (Future): Agent Reputation System

**Concept:** Off-chain reputation scores for agents based on launch quality

**Why viable:**
- Does NOT affect protocol execution
- Helps users filter agent launches
- Encourages agent quality
- Purely UI/indexer feature

**Deferred because:** Not needed for v1.2; requires empirical data first

---

### ‚úÖ APPROVED (Future): AI Risk Scoring

**Concept:** AI analyzes launch parameters and provides "risk score" to users

**Why viable:**
- Advisory only (not protocol enforcement)
- Helps users make informed decisions
- Can flag pathological params
- Separate from launch execution

**Deferred because:** Need baseline data on what constitutes "risky" params

---

### ‚úÖ APPROVED (Future): Compliance Templates

**Concept:** AI generates KYC/AML stubs for regulated launches

**Why viable:**
- Metadata-level feature
- Does NOT create protocol-level compliance
- Helps institutional users
- Clearly labeled as templates (not legal advice)

**Deferred because:** Requires legal review; out of scope for initial launch

---

## Regression Test Scorecard

| Criterion | Manual | AI-Assisted | Agent-Driven |
|-----------|--------|-------------|--------------|
| **Settlement Compliance** | ‚úÖ PASS | ‚úÖ PASS | ‚úÖ PASS |
| **Unit Convention Compliance** | ‚úÖ PASS | ‚úÖ PASS | ‚úÖ PASS |
| **Trust Boundary Compliance** | ‚úÖ PASS | ‚úÖ PASS | ‚úÖ PASS |
| **Scope Discipline** | ‚úÖ PASS | ‚úÖ PASS | ‚úÖ PASS |
| **Curve Math Invariance** | ‚úÖ PASS | ‚úÖ PASS | ‚úÖ PASS |
| **Event Schema Compliance** | ‚úÖ PASS | ‚úÖ PASS (extended) | ‚úÖ PASS (extended) |
| **No Custody Bypass** | ‚úÖ PASS | ‚úÖ PASS | ‚úÖ PASS |
| **Abuse Resistance** | ‚úÖ PASS | ‚úÖ PASS (with constraints) | ‚ö†Ô∏è CONDITIONAL (mandatory constraints required) |

**Overall Protocol Compliance: ‚úÖ PASS**

**Agent Mode Readiness: ‚ö†Ô∏è CONDITIONAL**
- Requires all mandatory constraints implemented
- Requires staged rollout (allowlist ‚Üí beta ‚Üí production)
- Requires continuous monitoring

---

## Implementation Checklist (Before Mainnet)

### Manual Mode
- [x] Already implemented in v1.1
- [x] No changes needed

### AI-Assisted Mode
- [ ] Integrate AI API (Claude, GPT, or similar)
- [ ] Implement parameter suggestion UI
- [ ] Add "AI-Suggested" labels throughout UI
- [ ] Implement mandatory user confirmation flow
- [ ] Add parameter editing for all AI suggestions
- [ ] Implement quality minimum warnings
- [ ] Test AI service failover to Manual mode

### Agent-Driven Mode
- [ ] Design and implement agent API endpoints
- [ ] Implement agent registration system
- [ ] **MANDATORY:** Implement staking mechanism (0.01 BTC per agent)
- [ ] **MANDATORY:** Implement per-agent rate limits (10/24hr)
- [ ] **MANDATORY:** Implement global agent rate limits (1000/day)
- [ ] **MANDATORY:** Implement double validation (API + on-chain)
- [ ] Implement agent API key management
- [ ] Implement agent suspension mechanism
- [ ] Add agent badge/labeling to frontend
- [ ] Implement allowlist system for initial rollout
- [ ] Add PoW challenge for agent registration (Sybil resistance)
- [ ] Set up agent monitoring and abuse detection
- [ ] Create agent violation response playbook

### Cross-Mode
- [ ] Extend event schemas with ExecutionMode enum
- [ ] Update frontend to display execution mode on token pages
- [ ] Implement mode-specific UI paths
- [ ] Update indexers to track execution mode
- [ ] Write user education materials (mode differences, risks)

---

## Final Verdict

**MidlLaunch v1.2 Extension: ‚úÖ APPROVED FOR PRODUCTION**

**Conditions:**
1. All mandatory constraints MUST be implemented before agent mode activation
2. Agent mode MUST launch via staged rollout (allowlist ‚Üí beta ‚Üí public)
3. Continuous monitoring MUST be in place for abuse detection
4. Admin MUST be prepared to suspend agents or adjust rate limits if spam emerges

**Protocol Integrity: ‚úÖ PRESERVED**
- All v1.1 normative sections unchanged
- Settlement model (Section 9) unchanged
- Trust boundaries explicit and not weakened
- No sell logic, AMM, or fairness guarantees added
- Bonding curve math unchanged

**Positioning Achieved: ‚úÖ SUCCESS**

MidlLaunch is now positioned as **the definitive source for token launches on Bitcoin** by supporting:
- Human creators (Manual mode)
- AI-assisted creators (AI-Assisted mode)
- Autonomous agents (Agent-Driven mode)

All while maintaining a **single canonical protocol core** with uniform settlement, pricing, and trust assumptions.

**Next Steps:**
1. Implement v1.2 changes per checklist
2. Conduct security audit (focus on agent API attack surface)
3. Launch AI-Assisted mode first (lower risk)
4. Launch Agent mode via allowlist beta
5. Monitor empirical abuse patterns
6. Adjust rate limits based on real-world data

---

**Document Status:** Regression test complete. v1.2 extension approved for implementation.

**Signed:** Senior Protocol PM, Systems Architect, Adversarial Reviewer
**Date:** February 8, 2026
